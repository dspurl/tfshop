(window.webpackJsonp=window.webpackJsonp||[]).push([[30,31],{542:function(e,r,t){"use strict";t.r(r);t(91),t(24),t(50);var o=t(187);r.default={layout:"login",head:function(){return{title:"重置密码-DSSHOP商城-跨终端商城解决方案"}},data:function(){var e=this;return{ruleForm:{cellphone:"",password:"",code:"",rPassword:"",state:1},codename:"获取验证码",seconds:"",unit:"",loading:!1,codeDisabled:!1,rules:{cellphone:[{validator:function(e,r,t){if(""===r)t(new Error("请输入手机号"));else{/^1[3456789]\d{9}$/.test(r)||t(new Error("手机号格式有误")),t()}},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,message:"密码长度必须大于5位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{type:"number",message:"验证码必须为数字"}],rPassword:[{validator:function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.ruleForm.password?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}]}}},methods:{getCode:function(){var e=this,r=this;Object(o.b)(this.ruleForm).then((function(t){e.seconds=60,e.codename="",e.unit="s",e.codeDisabled=!0,e.timer=setInterval((function(){r.seconds=r.seconds-1,0===r.seconds&&(clearInterval(r.timer),r.seconds="",r.codename="获取验证码",r.unit="",r.codeDisabled=!1)}),1e3),t.code&&(r.ruleForm.code=t.code)})).catch((function(){}))},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(r){r&&(e.loading=!0,Object(o.e)(e.ruleForm).then((function(){e.$message({message:"重置成功",type:"success"}),e.loading=!1,$nuxt.$router.replace("/pass/login")})).catch((function(){e.loading=!1})))}))}}}},543:function(e,r,t){var content=t(600);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(12).default)("0812b25a",content,!0,{sourceMap:!1})},599:function(e,r,t){"use strict";t(543)},600:function(e,r,t){var o=t(11)(!1);o.push([e.i,"a[data-v-6a3f8e2d]:hover{color:#fa524c}.register[data-v-6a3f8e2d]{background-color:#f4f4f4;padding:30px 0}.register .form[data-v-6a3f8e2d]{min-height:550px;width:850px;margin:30px auto;text-align:center}.register .form .title[data-v-6a3f8e2d]{font-size:30px;margin:30px 0}.register .form .ruleForm[data-v-6a3f8e2d]{margin:0 auto;width:350px}.register .form .ruleForm .button[data-v-6a3f8e2d]{width:100%}.register .form .ruleForm .code-button[data-v-6a3f8e2d]{position:absolute;right:5px;top:6px}.register .form .user-agreement[data-v-6a3f8e2d]{margin-top:20px;font-size:12px;color:#999}.register .form .user-agreement a[data-v-6a3f8e2d]{margin:0 5px}.register .form .go-login[data-v-6a3f8e2d]{text-align:right;font-size:12px;color:#999;margin:10px 230px 0 0}.register .form .go-login a[data-v-6a3f8e2d]{margin:0 5px}",""]),e.exports=o},666:function(e,r,t){"use strict";t.r(r);var o=t(542).default,l=(t(599),t(6)),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("el-card",{staticClass:"form",attrs:{shadow:"hover"}},[t("div",{staticClass:"title"},[e._v("重置密码")]),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"cellphone"}},[t("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号码",clearable:""},model:{value:e.ruleForm.cellphone,callback:function(r){e.$set(e.ruleForm,"cellphone",r)},expression:"ruleForm.cellphone"}},[t("i",{staticClass:"iconfont dsshop-ziyuan",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{attrs:{maxlength:"5",placeholder:"请输入验证码",clearable:""},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}},[t("i",{staticClass:"iconfont dsshop-duanxinyanzhengma",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),t("el-button",{staticClass:"code-button",attrs:{type:"danger",round:"",size:"mini",disabled:e.codeDisabled},on:{click:e.getCode}},[e._v(e._s(e.codename+e.seconds+e.unit))])],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入新密码","show-password":"",clearable:""},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}},[t("i",{staticClass:"iconfont dsshop-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),t("el-form-item",{attrs:{prop:"rPassword"}},[t("el-input",{attrs:{placeholder:"请输入确认密码","show-password":"",clearable:""},model:{value:e.ruleForm.rPassword,callback:function(r){e.$set(e.ruleForm,"rPassword",r)},expression:"ruleForm.rPassword"}},[t("i",{staticClass:"iconfont dsshop-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),t("el-button",{staticClass:"button",attrs:{type:"danger",loading:e.loading},on:{click:e.submitForm}},[e._v("提交")])],1),e._v(" "),t("div",{staticClass:"go-login"},[e._v("想到密码？马上去"),t("NuxtLink",{attrs:{to:"/pass/login"}},[e._v("登录")])],1)],1)],1)}),[],!1,null,"6a3f8e2d",null);r.default=component.exports}}]);