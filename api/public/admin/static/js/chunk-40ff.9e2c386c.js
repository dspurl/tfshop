(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-40ff"],{"4SGn":function(t,a,e){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},"8hQl":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("ma/q");a.default={props:{charData:{type:Array,default:function(){return{data:[]}}},width:{type:Number,default:1200},height:{type:Number,default:500},id:{type:String,required:!0},title:{type:String,default:null}},data:function(){return{areaPlot:null,ds:null,dv:null}},watch:{charData:function(t,a){this.drawChart(t)}},methods:{drawChart:function(){var t=this.charData;null===this.areaPlot?(this.areaPlot=new n.StackedArea(this.id,{height:this.height,width:this.width,title:{visible:!0,text:this.title},padding:"auto",forceFit:!0,data:t,xField:"date",yField:"value",stackField:"country",yAxis:{type:"dateTime",tickCount:5},legend:{visible:!0,position:"right-top"},responsive:!0}),this.areaPlot.render()):this.areaPlot.changeData(t)}}}},B4CQ:function(t,a,e){},CBcg:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"dashboard-editor-container"},[e("el-row",[e("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"title"},[e("h3",[t._v("整体分析")]),t._v(" "),e("div",{staticClass:"right",on:{click:function(a){t.handleDownload("pay")}}},[t._v("下载")]),t._v(" "),e("div",[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){t.setDate("pay")}},model:{value:t.payDate,callback:function(a){t.payDate=a},expression:"payDate"}},t._l(t.pay,function(t){return e("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})})),t._v(" "),e("span",{staticClass:"date"},[t._v(t._s(t.payShowDate))])],1)]),t._v(" "),e("stacked-area",{directives:[{name:"loading",rawName:"v-loading",value:t.analyze_loading,expression:"analyze_loading"}],attrs:{"char-data":t.payData,id:"c1"}})],1)],1)],1)],1)},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},GoHx:function(t,a,e){"use strict";e.r(a);var n=e("CBcg"),i=e("Y86i");for(var r in i)"default"!==r&&function(t){e.d(a,t,function(){return i[t]})}(r);e("noaA");var u=e("KHd+"),o=Object(u.a)(i.default,n.a,n.b,!1,null,"3812fdd9",null);o.options.__file="pay.vue",a.default=o.exports},H92S:function(t,a,e){"use strict";var n=e("B4CQ");e.n(n).a},SPtI:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.behavior=function(t){return(0,n.default)({url:"statistic/behavior",method:"GET",params:t})},a.keep=function(t){return(0,n.default)({url:"statistic/keep",method:"GET",params:t})},a.source=function(t){return(0,n.default)({url:"statistic/source",method:"GET",params:t})},a.age_and_sex=function(t){return(0,n.default)({url:"statistic/age_and_sex",method:"GET",params:t})},a.pay=function(t){return(0,n.default)({url:"statistic/pay",method:"GET",params:t})};var n=function(t){return t&&t.__esModule?t:{default:t}}(e("t3Un"))},Y86i:function(t,a,e){"use strict";e.r(a);var n=e("mg2f"),i=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(a,t,function(){return n[t]})}(r);a.default=i.a},mg2f:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(e("pNQy")),i=e("SPtI"),r=e("7Qib");a.default={name:"StatisticsVisitList",components:{StackedArea:n.default},data:function(){return{listLoading:!1,options:[],analyze_loading:!1,payData:[],payExcelData:[],payDate:0,payShowDate:"",pay:[{value:0,lable:"今日"},{value:7,lable:"最近7天"},{value:30,lable:"最近30天"}]}},created:function(){this.getPay()},methods:{getPay:function(){var t=this;this.analyze_loading=!0,this.payShowDate=(0,r.getBeforeDate)(this.payDate)+"至"+(0,r.getBeforeDate)(1),(0,i.pay)({date:this.payDate}).then(function(a){t.payData=a.data;var e={};for(var n in t.payExcelData=[],t.payData.map(function(t){e[t.date]||(e[t.date]={}),e[t.date]=[0,0,0,0,0,t.date],"下单笔数"===t.country?e[t.date][0]=t.value:"付款笔数"===t.country?e[t.date][1]=t.value:"付款金额"===t.country?e[t.date][2]=t.value:"退款笔数"===t.country?e[t.date][3]=t.value:"退款金额"===t.country&&(e[t.date][4]=t.value)}),e)t.payExcelData.push([e[n][0],e[n][1],e[n][2],e[n][3],e[n][4],e[n][5]]);t.analyze_loading=!1})},setDate:function(t){"pay"===t&&(this.payShowDate=(0,r.getBeforeDate)(this.payDate)+"至"+(0,r.getBeforeDate)(1),this.getPay())},handleDownload:function(t){var a=this;this.listLoading=!0,Promise.all([e.e("chunk-04d5"),e.e("chunk-eeb8")]).then(e.t.bind(null,"S/jZ",7)).then(function(e){var n=[],i=[],r="";"pay"===t&&(n=["下单笔数","付款笔数","付款金额","退款笔数","退款金额","时间"],r="交易分析",i=a.payExcelData),e.export_json_to_excel({header:n,data:i,filename:r}),a.listLoading=!1})}}}},noaA:function(t,a,e){"use strict";var n=e("tPbQ");e.n(n).a},pNQy:function(t,a,e){"use strict";e.r(a);var n=e("4SGn"),i=e("qtwa");for(var r in i)"default"!==r&&function(t){e.d(a,t,function(){return i[t]})}(r);e("H92S");var u=e("KHd+"),o=Object(u.a)(i.default,n.a,n.b,!1,null,null,null);o.options.__file="StackedArea.vue",a.default=o.exports},qtwa:function(t,a,e){"use strict";e.r(a);var n=e("8hQl"),i=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(a,t,function(){return n[t]})}(r);a.default=i.a},tPbQ:function(t,a,e){}}]);