(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-204e"],{"+U+e":function(t,e,i){"use strict";i.r(e);var n=i("ZO9G"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=o.a},"36AD":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"app-container"},[i("el-card",{attrs:{shadow:"always"}},[i("el-row",{attrs:{type:"flex"}},[i("el-col",{staticStyle:{"font-size":"18px","line-height":"45px","font-weight":"bold"},attrs:{span:20}},[t._v(t._s(t.$t("good_indent.odd"))+"："+t._s(t.list.identification)+"【"+t._s(t.list.type)+"】")]),t._v(" "),i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:3}},[0===t.list.shipping_status&&2===t.list.state?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleDelete(t.list,2)}}},[t._v("\n        "+t._s(t.$t("good_indent.operation.shipments")))]):t._e()],1),t._v(" "),i("el-col",{attrs:{span:1}})],1),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:10}},[t._v(t._s(t.$t("good_indent.created_at"))+"："+t._s(t.list.created_at))]),t._v(" "),i("el-col",{attrs:{span:10}},[t._v(t._s(t.$t("good_indent.buyer_information"))+"："+t._s(t.list.good_location?t.list.good_location.name:""))]),t._v(" "),i("el-col",{staticStyle:{color:"rgba(0, 0, 0, 0.447)"},attrs:{span:2}},[t._v(t._s(t.$t("good_indent.state")))]),t._v(" "),i("el-col",{staticStyle:{color:"rgba(0, 0, 0, 0.447)"},attrs:{span:2}},[t._v(t._s(t.$t("good_indent.total")))])],1),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:10}},[t._v(t._s(t.$t("good_indent.remark"))+"："+t._s(t.list.remark?t.list.remark:t.$t("common.table.nothing")))]),t._v(" "),i("el-col",{attrs:{span:10}},[t._v(t._s(t.$t("good_indent.contact_way"))+"："+t._s(t.list.good_location?t.list.good_location.cellphone:""))]),t._v(" "),i("el-col",{staticStyle:{"font-weight":"bold","font-size":"18px"},attrs:{span:2}},[t._v(t._s(t.list.state_show))]),t._v(" "),i("el-col",{staticStyle:{"font-weight":"bold","font-size":"18px"},attrs:{span:2}},[t._v("¥ "+t._s(t._f("1000")(t.list.total)))])],1),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[t.list.good_location?i("el-col",{attrs:{span:10}},[t._v(t._s(t.$t("good_indent.location"))+"："+t._s(t.list.good_location.location)+" ("+t._s(t.list.good_location.address)+")")]):t._e()],1)],1),t._v(" "),i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("good_indent.schedule")))])]),t._v(" "),i("el-steps",{attrs:{active:t.order_progress,"align-center":""}},[i("el-step",{attrs:{description:t.list.created_at,title:t.$t("good_indent.buyer_order")}}),t._v(" "),i("el-step",{attrs:{description:"1970-01-01 08:00:00"!==t.list.pay_time?t.list.pay_time:"",title:t.$t("good_indent.buyer_payment")}}),t._v(" "),t.goodType!==t.$t("good.type.keys")&&t.goodType!==t.$t("good.type.download")?i("el-step",{attrs:{description:"1970-01-01 08:00:00"!==t.list.shipping_time?t.list.shipping_time:"",title:t.$t("good_indent.merchant_delivery")}}):t._e(),t._v(" "),i("el-step",{attrs:{description:"1970-01-01 08:00:00"!==t.list.confirm_time?t.list.confirm_time:"",title:t.$t("good_indent.complete_transaction")}})],1)],1),t._v(" "),i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("good_indent.commodity_information")))]),t._v(" "),i("el-link",{staticClass:"invoice",attrs:{underline:!1,type:"primary"},on:{click:function(e){t.dialogInvoiceVisible=!0}}},[t._v(t._s(t.$t("good_indent.delivery_slip")))])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.goods_list,"summary-method":t.getSummaries,border:"","show-summary":""}},[i("el-table-column",{attrs:{label:t.$t("good.table.id"),type:"index",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"45px",height:"45px"},attrs:{src:t.row.img,"preview-src-list":[t.row.img]}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.commodity"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{path:"/commodityManagement/good/goodDetail",query:{id:e.row.good_id}},target:"_blank"}},[t._v(" "+t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.type"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.good.type))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.specification")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.specification))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.unit_price")+"("+t.$t("common.monetary_unit")+")",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.amount"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.number))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.money")+"("+t.$t("common.monetary_unit")+")",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price*e.row.number))])]}}])})],1)],1),t._v(" "),i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("good_indent.payment_record")))])]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.payment_log_all,border:""}},[i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.name"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.number"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.number))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.transaction_id"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.transaction_id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.type_show"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.type_show))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.money_show")+"("+t.$t("common.monetary_unit")+")",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("1000")(e.row.money_show)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.payment_record.platform_show"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.platform_show))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("common.table.state"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.state_show))])]}}])})],1)],1),t._v(" "),t.list.good_location?i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("good_indent.distribution")))])]),t._v(" "),i("div",[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.temp,"label-width":"160px"}},[i("el-form-item",{attrs:{label:t.$t("good_indent.distribution.carriage")}},[t.list.carriage?i("span",[t._v(t._s(t._f("1000")(t.list.carriage))+t._s(t.$t("common.monetary_unit")))]):i("span",[t._v(t._s(t.$t("good_indent.distribution.free_shipping")))])]),t._v(" "),i("el-form-item",{attrs:{label:t.$t("good_indent.distribution.dhl"),prop:"dhl_id"}},[t.list.dhl&&!t.temp.dhl?i("div",[t._v(t._s(t.list.dhl.name))]):i("el-select",{attrs:{placeholder:t.$t("common.select"),clearable:""},model:{value:t.temp.dhl_id,callback:function(e){t.$set(t.temp,"dhl_id",e)},expression:"temp.dhl_id"}},t._l(t.dhl,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("good_indent.distribution.odd"),prop:"odd"}},[t.list.odd&&!t.temp.odd?i("div",[t._v(t._s(t.list.odd))]):i("el-input",{ref:"odd",attrs:{maxlength:"255",clearable:""},model:{value:t.temp.odd,callback:function(e){t.$set(t.temp,"odd",e)},expression:"temp.odd"}})],1),t._v(" "),3===t.list.state?i("el-form-item",[t.temp.id?i("el-button",{attrs:{loading:t.shipmentLoading,type:"primary"},on:{click:t.setDhlUpdate}},[t._v(t._s(t.$t("common.save")))]):i("el-button",{attrs:{type:"primary"},on:{click:t.dhlUpdate}},[t._v(t._s(t.$t("common.redact")))])],1):t._e()],1)],1)]):t._e(),t._v(" "),3===t.list.state&&t.list.automaticReceivingState?i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$("good_indent.overtime")))])]),t._v(" "),i("div",[i("el-form",{ref:"receivingForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.receivingRules,model:t.receivingTemp,"label-width":"120px"}},[i("el-form-item",{attrs:{label:t.$t("good_indent.overtime.receiving_time")}},[i("span",[t._v(t._s(t.list.receiving_time))])]),t._v(" "),i("el-form-item",{attrs:{label:t.$t("good_indent.overtime.new_receiving_time"),prop:"new_receiving_time"}},[i("el-date-picker",{attrs:{placeholder:t.$t("common.select"),type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.receivingTemp.new_receiving_time,callback:function(e){t.$set(t.receivingTemp,"new_receiving_time",e)},expression:"receivingTemp.new_receiving_time"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{loading:t.shipmentLoading,type:"primary"},on:{click:t.receivingEdit}},[t._v(t._s(t.$t("common.save")))])],1)],1)],1)]):t._e(),t._v(" "),t.list.good_code.length?i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.code_type?t.$t("good_indent.web_disk"):t.$t("good_indent.carmi")))])]),t._v(" "),i("div",{staticClass:"code-list"},t._l(t.list.good_code,function(e,n){return i("div",{key:n,staticClass:"li"},[e.name?i("div",{staticClass:"name"},[t._v(t._s(t.code_type?t.$t("good_indent.web_disk.url"):t.$t("good_indent.web_disk.card_number"))+"："+t._s(e.name)),i("span",{staticClass:"el-icon-copy-document",on:{click:function(i){t.doCopy(e.name)}}})]):t._e(),t._v(" "),i("div",{staticClass:"value"},[t._v(t._s(t.code_type?t.$t("good_indent.web_disk.code"):t.$t("good_indent.carmi"))+"："+t._s(e.code)),i("span",{staticClass:"el-icon-copy-document",on:{click:function(i){t.doCopy(e.code)}}})])])}))]):t._e(),t._v(" "),t.list.refund_money?i("el-card",{staticStyle:{"margin-top":"25px"},attrs:{shadow:"always"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("good_indent.web_disk.refund_details")))])]),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:24}},[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_money"))+"("+t._s(t.$t("common.monetary_unit"))+")："+t._s(t._f("1000")(t.list.refund_money)))])],1),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:24}},[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_way"))+"："+t._s(t.list.refund_way))])],1),t._v(" "),i("el-row",{staticStyle:{"line-height":"35px","font-size":"14px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:24}},[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_reason"))+"："+t._s(t.list.refund_reason))])],1)],1):t._e(),t._v(" "),i("div",{staticClass:"right",staticStyle:{"margin-top":"20px",filter:"alpha(Opacity=90)","-moz-opacity":"0.9",opacity:"0.9"}},[1!==t.list.state&&!t.list.refund_money||8===!t.list.state?i("el-button",{attrs:{loading:t.shipmentLoading,type:"danger"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v(t._s(t.$t("good_indent.operation.refund")))]):t._e(),t._v(" "),2===t.list.state?i("el-button",{attrs:{loading:t.shipmentLoading,type:"primary"},on:{click:function(e){t.shipmentSubmit()}}},[t._v(t._s(t.$t("good_indent.operation.shipments")))]):t._e()],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogFormVisible,"close-on-click-modal":!1,title:t.$t("good_indent.operation.refund")},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"refundForm",attrs:{rules:t.refundRules,model:t.refundTemp,"label-position":"left","label-width":"160px"}},[i("el-form-item",{staticStyle:{width:"300px"},attrs:{label:t.$t("good_indent.web_disk.refund_details.refund_money"),prop:"refund_money"}},[i("el-input-number",{attrs:{precision:2,min:.01,max:t.list.total,label:"退款金额"},model:{value:t.refundTemp.refund_money,callback:function(e){t.$set(t.refundTemp,"refund_money",e)},expression:"refundTemp.refund_money"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("good_indent.web_disk.refund_details.refund_way"),prop:"refund_way"}},[i("el-radio-group",{model:{value:t.refundTemp.refund_way,callback:function(e){t.$set(t.refundTemp,"refund_way",e)},expression:"refundTemp.refund_way"}},[i("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_way.balance")))]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_way.back_track")))])],1),t._v(" "),i("div",[t._v(t._s(t.$t("good_indent.web_disk.refund_details.refund_way.tip")))])],1),t._v(" "),i("el-form-item",{staticStyle:{width:"600px"},attrs:{label:t.$t("good_indent.web_disk.refund_details.refund_reason"),prop:"refund_reason"}},[i("el-input",{attrs:{placeholder:t.$t("hint.error.please_enter",{attribute:t.$t("good_indent.web_disk.refund_details.refund_reason")}),maxlength:"500",clearable:""},model:{value:t.refundTemp.refund_reason,callback:function(e){t.$set(t.refundTemp,"refund_reason",e)},expression:"refundTemp.refund_reason"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),i("el-button",{attrs:{loading:t.shipmentLoading,type:"primary"},on:{click:function(e){t.refundData()}}},[t._v(t._s(t.$t("common.confirm")))])],1)],1),t._v(" "),t.list.good_location?i("el-dialog",{staticClass:"delivery",attrs:{visible:t.dialogInvoiceVisible,"close-on-click-modal":!1,center:"",fullscreen:""},on:{"update:visible":function(e){t.dialogInvoiceVisible=e}}},[i("div",{ref:"print"},[i("div",{staticClass:"text-center title"},[t._v(t._s(t.name))]),t._v(" "),i("div",{staticClass:"text-center name"},[t._v(t._s(t.$t("good_indent.delivery_slip")))]),t._v(" "),i("div",{staticClass:"message"},[i("div",[i("span",[t._v(t._s(t.$t("good_indent.customer"))+"：")]),t._v(t._s(t.list.good_location.name))]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$t("good_indent.order_number"))+"：")]),t._v(t._s(t.list.identification))]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$t("good_indent.order_date"))+"：")]),t._v(t._s(t.list.created_at))])]),t._v(" "),i("div",{staticClass:"location"},[i("span",[t._v(t._s(t.$t("good_indent.delivery_address"))+"：")]),t._v(t._s(t.list.good_location.location)+" ("+t._s(t.list.good_location.address)+")")]),t._v(" "),i("div",{staticClass:"message"},[i("div",[i("span",[t._v(t._s(t.$t("good_indent.good_location"))+"：")]),t._v(t._s(t.list.good_location.name))]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$t("good_indent.contact_number"))+"：")]),t._v(t._s(t.list.good_location.cellphone))]),t._v(" "),i("div",[i("span")])]),t._v(" "),i("div",{staticClass:"location"},[i("span",[t._v(t._s(t.$t("good_indent.remark"))+"：")]),t._v(t._s(t.list.remark?t.list.remark:""))]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.goods_list,"summary-method":t.getSummaries,border:"","show-summary":""}},[i("el-table-column",{attrs:{label:t.$t("good.table.id"),type:"index",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.identification"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.identification))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good.table.number"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.articleNumber))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good.detail.name"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.specification")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.specification))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.unit_price")+"("+t.$t("common.monetary_unit")+")",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.amount"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.number))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("good_indent.delivery_slip.money")+"("+t.$t("common.monetary_unit")+")",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price*e.row.number))])]}}])})],1)],1),t._v(" "),i("div",{staticClass:"operation"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.print()}}},[t._v(t._s(t.$t("common.print")))])],1)]):t._e()],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},BeLl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){return(0,n.default)({url:"dhl",method:"GET",params:t})},e.create=function(t){return t=o.default.parse(t),(0,n.default)({url:"dhl",method:"POST",data:t})},e.edit=function(t){return t=o.default.parse(t),(0,n.default)({url:"dhl/"+t.id,method:"POST",data:t})},e.destroy=function(t){return(0,n.default)({url:"dhl/destroy/"+t,method:"POST"})};var n=a(i("t3Un")),o=a(i("Qyje"));function a(t){return t&&t.__esModule?t:{default:t}}},H7n3:function(t,e,i){"use strict";var n=i("qqbr");i.n(n).a},Oy66:function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("detail",{attrs:{"is-edit":!1}})},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},ZO9G:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i("tC8k"));e.default={name:"IndentDetail",components:{Detail:n.default}}},nRRO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(i("gDS+")),o=d(i("FyfS")),a=i("tN7b"),s=i("BeLl"),l=d(i("rdXg"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"IndentListDetails",data:function(){return{shipmentLoading:!1,name:"DSSHOP电商商城",dialogInvoiceVisible:!1,queryLoading:!1,order_progress:0,logistics:!1,list:{good_code:[]},dialogFormVisible:!1,listLoading:!0,id:this.$route.query.id,temp:{dhl_id:null,odd:""},receivingTemp:{id:0,new_receiving_time:""},receivingRules:{new_receiving_time:[{required:!0,message:this.$t("hint.error.select",{attribute:this.$t("good_indent.overtime.receiving_time")}),trigger:"change"}]},rules:{dhl_id:[{required:!0,message:this.$t("hint.error.select",{attribute:this.$t("good_indent.distribution.dhl")}),trigger:"change"}],odd:[{required:!0,message:this.$t("hint.error.please_enter",{attribute:this.$t("good_indent.odd")}),trigger:"blur"}]},refundRules:{refund_money:[{required:!0,message:this.$t("hint.error.please_enter",{attribute:this.$t("good_indent.web_disk.refund_details.refund_money")}),trigger:"blur"}],refund_way:[{required:!0,message:this.$t("hint.error.please_enter",{attribute:this.$t("good_indent.web_disk.refund_details.refund_way")}),trigger:"change"}],refund_reason:[{required:!0,message:this.$t("hint.error.please_enter",{attribute:this.$t("good_indent.web_disk.refund_details.refund_reason")}),trigger:"blur"}]},refundTemp:{refund_way:0,refund_reason:"",refund_money:"",refund_integral:"",integralDeduction:""},dhl:[],goodType:this.$t("good.detail.form.type.radio_group.general"),code_type:0}},created:function(){this.getList(),this.getDhl()},methods:{getList:function(){var t=this;this.listLoading=!0,(0,a.detail)(this.id).then(function(e){for(var i in e.data.goods_list){switch(e.data.state){case 1:t.order_progress=1;break;case 2:t.order_progress=2;break;case 3:t.order_progress=3;break;case 5:case 11:t.order_progress=4}e.data.goods_list[i].identification=e.data.goods_list[i].good.identification,e.data.goods_list[i].articleNumber=e.data.goods_list[i].good.number,e.data.goods_list[i].good_sku&&(t.code_type=e.data.goods_list[i].good_sku.code_type,e.data.goods_list[i].good_sku.product_sku.forEach(function(t){e.data.goods_list[i].specification?e.data.goods_list[i].specification+=t.key+":"+t.value+";":e.data.goods_list[i].specification=t.key+":"+t.value+";"}),e.data.goods_list[i].specification=e.data.goods_list[i].specification.substr(0,e.data.goods_list[i].specification.length-1)),t.goodType=e.data.goods_list[i].good.type}t.receivingTemp.new_receiving_time=e.data.receiving_time,t.receivingTemp.id=e.data.id,t.list=e.data,t.refundTemp.refund_money=t.list.total,t.refundTemp.refund_integral=t.list.integral,t.refundTemp.integralDeduction=t.list.integralDeduction;var n=t;t.list.payment_log_all.forEach(function(t){0===t.state&&n.queryNumber(t)}),t.listLoading=!1})},getDhl:function(){var t=this;(0,s.getList)().then(function(e){t.dhl=e.data;var i=!0,n=!1,a=void 0;try{for(var s,l=(0,o.default)(t.dhl);!(i=(s=l.next()).done);i=!0){var d=s.value;if(1===d.is_default){t.temp.dhl_id=d.id;break}}}catch(t){n=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw a}}})},shipmentSubmit:function(){var t=this;this.shipmentLoading=!0,this.$refs.dataForm.validate(function(e){e?(t.temp.id=t.list.id,(0,a.shipment)(t.temp).then(function(){t.dialogFormVisible=!1,t.shipmentLoading=!1,t.$notify({title:t.$t("common.succeed"),message:t.$t("hint.succeed.win",{attribute:t.$t("good_indent.operation.shipments")}),type:"success",duration:2e3}),setTimeout(t.$router.back(-1),2e3)}).catch(function(){t.shipmentLoading=!1})):(t.shipmentLoading=!1,t.$refs.odd.focus(),t.$notify({title:"",message:t.$t("hint.error.please_enter",{attribute:t.$t("good_indent.logistics_information")}),type:"warning",duration:2e3}))})},refundData:function(){var t=this;this.shipmentLoading=!0,this.$refs.refundForm.validate(function(e){e?(0,a.refund)(t.list.id,t.refundTemp).then(function(){t.dialogFormVisible=!1,t.shipmentLoading=!1,t.$notify({title:t.$t("common.succeed"),message:t.$t("hint.succeed.win",{attribute:t.$t("good_indent.operation.refund")}),type:"success",duration:2e3}),setTimeout(t.$router.back(-1),2e3)}).catch(function(){t.shipmentLoading=!1}):t.shipmentLoading=!1})},queryNumber:function(t){(0,a.query)(t.id).then(function(){})},dhlUpdate:function(){this.temp=this.list},setDhlUpdate:function(){var t=this;this.shipmentLoading=!0,this.$refs.dataForm.validate(function(e){e?(0,a.dhl)(t.temp).then(function(){t.shipmentLoading=!1,t.temp={},t.getList(),t.$notify({title:t.$t("common.succeed"),message:t.$t("hint.succeed.win",{attribute:t.$t("common.save")}),type:"success",duration:2e3})}).catch(function(){t.shipmentLoading=!1}):t.shipmentLoading=!1})},receivingEdit:function(){var t=this;this.shipmentLoading=!0,(0,a.receiving)(this.receivingTemp).then(function(){t.shipmentLoading=!1,t.getList(),t.$notify({title:t.$t("common.succeed"),message:t.$t("hint.succeed.win",{attribute:t.$t("common.amend")}),type:"success",duration:2e3})}).catch(function(){t.shipmentLoading=!1})},getSummaries:function(t){var e=this,i=t.columns,n=t.data,o=[];return i.forEach(function(t,i){0!==i?1!==i&&2!==i&&3!==i&&(6===i?n.length>0&&(o[i]=n.reduce(function(t,e){var i=Number(e.number);return isNaN(i)?t:t+e.number},0),o[i]+=" "+e.$t("good_indent.piece")):7===i&&n.length>0&&(o[i]=n.reduce(function(t,e){var i=Number(e.price);return isNaN(i)?t:t+e.number*e.price*100},0),o[i]=o[i]/100+" "+e.$t("common.monetary_unit"))):o[i]=e.$t("good_indent.rental")}),o},doCopy:function(t){var e=this;this.$copyText(t).then(function(t){e.$message({message:e.$t("hint.succeed.win",{attribute:e.$t("common.copy")}),type:"success"})}).catch(function(){console.log("失败")})},print:function(){var t=[],e=JSON.parse((0,n.default)(this.list.goods_list));e.push({serial:this.$t("good_indent.total_prices"),money:220,number:1,name:"",identification:"",specification:"",articleNumber:"",price:""});var i=0,o=0;e.forEach(function(e,n){e.serial=e.serial?e.serial:n+1,e.money?(e.money=i,e.number=o):(i+=e.price*e.number,o+=e.number,e.money=e.price*e.number),t.push(e)}),(0,l.default)({printable:t,header:'<div style="text-align: center;font-size: 26px;font-weight: bold;line-height: 50px;">'+this.name+'</div>\n        <div style="text-align: center;font-size: 20px;font-weight: bold;padding-bottom: 50px;">'+this.$t("good_indent.delivery_slip")+'</div>\n        <div style="display: flex;">\n          <div style="line-height: 30px;flex:1;"><span>'+this.$t("good_indent.customer")+"：</span>"+this.list.good_location.name+'</div>\n          <div style="line-height: 30px;flex:1;"><span>'+this.$t("good_indent.order_number")+"：</span>"+this.list.identification+'</div>\n          <div style="line-height: 30px;flex:1;"><span>'+this.$t("good_indent.order_date")+"：</span>"+this.list.created_at+'</div>\n        </div>\n        <div style="line-height: 30px;"><span>'+this.$t("good_indent.delivery_address")+"：</span>"+this.list.good_location.location+this.list.good_location.address+'</div>\n        <div style="display: flex;">\n          <div style="line-height: 30px;flex:1;"><span>'+this.$t("good_indent.good_location")+"：</span>"+this.list.good_location.name+'</div>\n          <div style="line-height: 30px;flex:1;"><span>'+this.$t("good_indent.contact_number")+"：</span>"+this.list.good_location.cellphone+'</div>\n          <div style="line-height: 30px;flex:1;"></div>\n        </div>\n        <div style="line-height: 30px;"><span>'+this.$t("good_indent.remark")+"：</span>"+(this.list.remark?this.list.remark:"")+"</div>",properties:[{field:"serial",displayName:this.$t("good.table.id")},{field:"name",displayName:this.$t("good.detail.name")},{field:"identification",displayName:this.$t("good_indent.identification")},{field:"articleNumber",displayName:this.$t("good.table.number")},{field:"specification",displayName:this.$t("good_indent.delivery_slip.specification")},{field:"price",displayName:""+this.$t("good_indent.delivery_slip.unit_price")},{field:"number",displayName:this.$t("good_indent.number")},{field:"money",displayName:this.$t("good_indent.delivery_slip.money")}],type:"json",gridHeaderStyle:"border: 1px solid #000;text-align:center",gridStyle:"border: 1px solid #000;text-align:center"})}}}},"q+2p":function(t,e,i){"use strict";i.r(e);var n=i("nRRO"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=o.a},qqbr:function(t,e,i){},rC0N:function(t,e,i){"use strict";i.r(e);var n=i("Oy66"),o=i("+U+e");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);var s=i("KHd+"),l=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);l.options.__file="detail.vue",e.default=l.exports},tC8k:function(t,e,i){"use strict";i.r(e);var n=i("36AD"),o=i("q+2p");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("H7n3");var s=i("KHd+"),l=Object(s.a)(o.default,n.a,n.b,!1,null,"44c99d78",null);l.options.__file="Detail.vue",e.default=l.exports},tN7b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exports=void 0,e.getList=function(t){return(0,n.default)({url:"indent",method:"GET",params:t})},e.detail=function(t){return(0,n.default)({url:"indent/"+t,method:"GET"})},e.shipment=function(t){return t=o.default.parse(t),(0,n.default)({url:"indent/shipment",method:"POST",data:t})},e.dhl=function(t){return t=o.default.parse(t),(0,n.default)({url:"indent/dhl",method:"POST",data:t})},e.query=function(t){return(0,n.default)({url:"indent/query/"+t,method:"GET"})},e.refund=function(t,e){return e=o.default.parse(e),(0,n.default)({url:"indent/refund/"+t,method:"POST",data:e})},e.receiving=function(t){return t=o.default.parse(t),(0,n.default)({url:"indent/receiving",method:"POST",data:t})};var n=a(i("t3Un")),o=a(i("Qyje"));function a(t){return t&&t.__esModule?t:{default:t}}e.exports=function(t){return t=o.default.parse(t),(0,n.default)({url:"indent/export/all",method:"POST",data:t})}}}]);